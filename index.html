<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Responsive Sidebar UI â€” Topbar Contextual Controls</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <aside id="sidebar" class="sidebar" aria-hidden="true">
    <div class="sidebar-inner">
      <div class="sidebar-top">
        <div class="sidebar-header">
          <button id="sidebarClose" class="icon-btn" aria-label="Close sidebar">âœ•</button>
          <h3>Menu</h3>
        </div>

        <div class="sidebar-search">
          <input type="text" placeholder="Search..." aria-label="Search sidebar" />
        </div>

        <div class="quick-buttons" role="tablist" aria-label="Categories">
          <button class="active" data-category="genres" role="tab" aria-selected="true">Genres</button>
          <button data-category="authors" role="tab">Authors</button>
          <button data-category="series" role="tab">Series</button>
          <button data-category="titles" role="tab">Titles</button>
        </div>
      </div>

      <nav class="sidebar-list" id="sidebarList" aria-label="Sidebar list">
        <!-- topics (flat) injected here -->
      </nav>
    </div>

    <div class="sidebar-user" id="sidebarUser">
      <img src="https://example.com/user.jpg" alt="User avatar" id="sidebarUserImg">
      <div class="user-name" id="sidebarUserName">John Doe</div>
    </div>
  </aside>

  <div id="overlay" class="overlay" hidden></div>

  <main class="content" id="mainContent">
    <header class="topbar">
      <button id="menuBtn" class="icon-btn" aria-label="Open menu">â˜°</button>
    </header>

    <div class="comment-section">
      <div class="comment-topbar">
        <div class="header-section" id="headerSection">
          <span class="header-tab" id="categoryName">Genres</span>
          <span class="header-comment">Comment 1.65K</span>
          <span class="header-bell">ðŸ””</span>
        </div>

        <div class="address-bar" id="topbarControls" aria-live="polite">
          <div class="address-dot" aria-hidden="true"></div>
          <!-- contextual controls injected here -->
          <div class="address-text" id="topicTitle" aria-atomic="true">Select a topic</div>
        </div>

        <div class="sort-buttons">
          <button class="active" data-sort="recommended">Recommended</button>
          <button data-sort="rating">Rating</button>
          <button data-sort="hot">Hot</button>
          <button data-sort="newest">Newest</button>
        </div>
      </div>

      <!-- Comments dynamically injected -->
      <div id="comments">
        <!-- Comments injected by JS -->

        <!-- Replies Modal -->
        <div id="replyModal" class="reply-modal" aria-hidden="true">
          <div class="reply-modal-content">
            <div class="reply-modal-header">
              <span>Replies</span>
              <button id="closeReplyModal" aria-label="Close replies">âœ–</button>
            </div>

            <div id="replyList" class="reply-list"></div>

            <div class="reply-input-bar">
              <textarea id="replyInput" placeholder="Write a reply..." rows="2"></textarea>
              <button id="replySubmit">Reply</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <div class="bottom-bar" role="toolbar" aria-label="Comment input">
    <button class="big-circle" aria-label="Create">+</button>
    <div class="input-pill"><input type="text" placeholder="Come and join the discussion~" id="commentInput"></div>
    <div class="right-actions">
      <button class="round-btn" aria-label="Voice">ðŸŽ¤</button>
      <button class="round-btn send" aria-label="Send">âž¤</button>
    </div>
  </div>

  <!-- Login Modal (kept) -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <div class="modal-title">Sign Up</div>
      <input type="email" placeholder="Please enter your email" />
      <input type="password" placeholder="Please set your password" />
      <input type="text" placeholder="Invitation code, optional" />
      <button>Next</button>
      <div class="agreement-text">
        Registering represents agreement <a href="#" class="agreement-link">(User Agreement)</a> & <a href="#" class="agreement-link">(Privacy Policy)</a>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
